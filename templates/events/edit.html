{% extends "base.html" %}
{% block content %}
<div class="form-card">
  <h2>Edit Event</h2>

  <form action="{{ url_for('event_bp.edit_event', event_id=event.event_id) }}" method="POST">

    <div class="form-group">
      <label for="edit-title">Title</label>
      <input id="edit-title" type="text" name="title" value="{{ event.title }}" required>
    </div>

    <div class="form-group">
      <label for="edit-datetime">Date & Time</label>
      <input id="edit-datetime" type="datetime-local" name="date_of_event"
            value="{{ event.date_of_event }}" required>
    </div>

    <div class="form-group">
      <label for="edit-category">Event Category</label>
      <select id="edit-category" name="category" class="form-control" required>
        <option value="" disabled>Select an event category</option>

        {% for c in [
          "Academic Event", "Activism", "Basic Needs Support",
          "Career & Professional Development", "Civic Engagement",
          "Community Event", "Crafts & Creative Activities",
          "Cultural", "Food Resources / Food Events",
          "Health & Wellness", "Internship & Career Exploration",
          "Research Opportunities", "Social", "Student Life",
          "Workshops & Training", "Other"
        ] %}
          <option value="{{ c }}" {% if event.category == c %}selected{% endif %}>
            {{ c }}
          </option>
        {% endfor %}
      </select>
    </div>

    <div class="form-group">
      <label for="edit-contact">Contact Info</label>
      <input id="edit-contact" type="text" name="contact_info"
            value="{{ event.contact_info }}">
    </div>

    <div class="form-group">
      <label for="edit-description">Description</label>
      <textarea id="edit-description" name="description" rows="4">
        {{ event.description }}
      </textarea>
    </div>

    <fieldset class="form-group">
      <legend>Location</legend>

      <label for="edit-address1" class="sr-only">Address line 1</label>
      <input id="edit-address1" type="text" name="address1" placeholder="Address 1">

      <label for="edit-address2" class="sr-only">Address line 2</label>
      <input id="edit-address2" type="text" name="address2" placeholder="Address 2">

      <label for="edit-city" class="sr-only">City</label>
      <input id="edit-city" type="text" name="city" placeholder="City">

      <label for="edit-state" class="sr-only">State</label>
      <input id="edit-state" type="text" name="state" placeholder="State">

      <label for="edit-postal" class="sr-only">Postal Code</label>
      <input id="edit-postal" type="text" name="postal_code" placeholder="Postal Code">
    </fieldset>

  <button class="submit-btn" type="submit">Save Changes</button>

</form>


  <a class="back-link" href="{{ url_for('event_bp.list_events') }}">Back to Events</a>
</div>
{% endblock %}
