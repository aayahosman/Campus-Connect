<!DOCTYPE html>
<html lang="en">
<head>
  <title>Campus Events Calendar</title>

  <!-- FullCalendar CSS -->
  <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.css" rel="stylesheet">

  <!-- FullCalendar JS -->
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js"></script>

  <style>
    /* ============================
       MAIN CALENDAR CONTAINER
       ============================ */
    #calendar {
      max-width: 1000px;
      margin: 40px auto;
      background: var(--card-bg);
      padding: 30px;
      border-radius: 16px;
      box-shadow: 0 4px 14px rgba(0, 0, 0, 0.10);
      transition: background 0.3s ease, color 0.3s ease, box-shadow 0.3s ease;
      animation: fadeIn 0.4s ease-out;
    }
  
    /* Fade-in animation */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to   { opacity: 1; transform: translateY(0); }
    }
  
    /* ============================
       HEADER TITLE
       ============================ */
    h1 {
      color: var(--text);
      transition: color 0.3s ease;
      font-weight: 600;
    }
  
    /* ============================
       FULLCALENDAR — TEXT
       ============================ */
    .fc .fc-daygrid-day-number,
    .fc .fc-toolbar-title {
      color: var(--text);
      transition: color 0.25s ease;
    }
  
    /* Highlight today's date (light mode) */
    .fc-day-today {
      background: rgba(0, 90, 200, 0.12) !important;
      border-radius: 6px;
    }
  
    /* Event dots (light mode) */
    .fc-daygrid-event-dot {
      border-color: #003366 !important;
      background-color: #003366 !important;
    }
  
    /* ============================
       BUTTONS (LIGHT MODE)
       ============================ */
    .fc .fc-button {
      background: #003366;
      border-color: #003366;
      color: white;
      border-radius: 6px;
      font-weight: 600;
      padding: 6px 14px;
    }
  
    .fc .fc-button:hover {
      background: #0055aa;
    }
  
    /* ============================
       DARK MODE STYLING
       ============================ */
    :root.dark #calendar {
      background: #1a1a1a;
      border: 1px solid #333;
      color: #f5f5f5;
    }
  
    :root.dark h1 {
      color: #f5f5f5;
    }
  
    :root.dark .fc-daygrid-day-number,
    :root.dark .fc-toolbar-title,
    :root.dark .fc-col-header-cell-cushion {
      color: #e6e6e6 !important;
    }
  
    :root.dark .fc-daygrid-day-frame {
      background: #1a1a1a !important;
    }
  
    /* Dark Mode — today highlight */
    :root.dark .fc-day-today {
      background-color: #003f7f !important;
      border-radius: 6px;
    }
  
    /* Dark Mode — buttons */
    :root.dark .fc .fc-button {
      background: #003366;
      border-color: #003366;
      color: white;
    }
  
    :root.dark .fc .fc-button:hover {
      background: #004c99;
    }
  
    /* Dark Mode — event dots */
    :root.dark .fc-daygrid-event-dot {
      border-color: #7abaff !important;
      background-color: #7abaff !important;
    }
      /* Stylish back button */
  .back-btn {
    display: inline-block;
    margin: 20px 0 0 50px;
    background: #003366;
    color: white !important;
    padding: 8px 16px;
    border-radius: 8px;
    font-weight: 600;
    text-decoration: none;
    font-size: 15px;
    transition: background 0.25s ease, transform 0.2s ease;
  }

  .back-btn:hover {
    background: #0055aa;
    transform: translateX(-2px);
  }

  .back-btn:active {
    transform: translateX(0);
  }

  /* Dark mode version */
  :root.dark .back-btn {
    background: #003366;
    color: white !important;
  }

  :root.dark .back-btn:hover {
    background: #004c99;
  }

  </style>
  
</head>

<body>
  <a href="/events" class="back-btn">← Back to Events</a>
  <h1 style="text-align:center; margin-top:20px;">
    Campus Events Calendar
  </h1>

  <div id="calendar"></div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      var calendarEl = document.getElementById('calendar');

      var calendar = new FullCalendar.Calendar(calendarEl, {
        initialView: 'dayGridMonth',

        events: '/events/api/events',  // <-- JSON route

        eventClick: function(info) {
          // clicking takes you to the event details page!
          window.location.href = '/events/' + info.event.id;
        }
      });

      calendar.render();
    });
  </script>

</body>
</html>
